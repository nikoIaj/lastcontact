<!DOCTYPE html>
 <html>
 <head>
  	<title>Last Contact</title>
  	<style>
  		body{
  			display:flex;
  			height:100vh;
  			margin:0;
  			align-items: center;
  			justify-content: center;
  		}
  	</style>
    <!-- start a Python server from terminal with :   python -m SimpleHTTPServer   
       point browser to     localhost:8000    to run game
    -->
    <script src="https://github.com/photonstorm/phaser-ce/releases/download/v2.10.1/phaser.min.js"></script>
  </head>
  <body>

    <script>
    	"use strict";
    	// Create the Phaser game object
   		var game = new Phaser.Game(640, 480, Phaser.AUTO, 'our-game', { preload: preload, create: create, update: update });

      const playerVelocity = 200.0;
      // create player
      let player;
      // create map
      var map;

      function preload() {
   			game.load.image('player', 'assets/player.piskel');
        // load game assets
        game.load.tilemap('level1', './levels/level1.json', null, Phaser.Tilemap.TILED_JSON);
        game.load.image('gameTiles', 'assets/spritesheet.png');
  		};

  		function create() {
        game.stage.backgroundColor = '#fff';
        // add player sprite to game
        player = game.add.sprite(32, 32, 'player');
        // size of player sprite 
        player.scale.setTo(1, 1);
        game.physics.enable(player, Phaser.Physics.ARCADE);
        // add tilemap to game 
        map = game.add.tilemap('level1');
        // the first parameter is the tileset name as specified in Tiled, the second is the key to the asset
        map.addTilesetImage('tileset1', 'gameTiles');
        // create layer
        // game.backgroundlayer = this.map.createLayer('backgroundLayer');
        game.blockedLayer = map.createLayer('blockedLayer');
        // collision on blockedLayer
        map.setCollisionBetween(0, 2000, true, game.blockedLayer);
  		};
function update() {

    if (cursors.up.isDown)
    {
        game.camera.y -= 4;
    }
    else if (cursors.down.isDown)
    {
        game.camera.y += 4;
    }

    if (cursors.left.isDown)
    {
        game.camera.x -= 4;
    }
    else if (cursors.right.isDown)
    {
        game.camera.x += 4;
    }

}

function render() {

    game.debug.cameraInfo(game.camera, 32, 32);

}

    </script>
  </body>
</html>
